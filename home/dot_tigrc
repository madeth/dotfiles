# See: https://github.com/jonas/tig/blob/master/doc/tigrc.5.adoc

set line-graphics = auto                              # 罫線をASCII文字で表示
set split-view-height = 50%                            # 分割ビューの高さを50%に設定
set diff-highlight = true                              # diff-highlight機能を使用
set refresh-mode = auto                                # ファイル変更を自動検知して更新
set mouse = true                                       # マウス操作を有効化
set mouse-scroll = 1                                   # マウススクロールの行数設定

set main-view = line-number:display=no \
    id:display=yes \
    date:display=default \
    author:display=abbreviated \
    commit-title:graph=yes,refs=yes,overflow=72        # メインビューの表示設定

set blame-view = date:display=default \
    id:yes \
    author:display=abbreviated \
    file-name:display=auto \
    line-number:display=yes,interval=1 text            # Blameビューの表示設定

bind generic <C-b> move-page-up                        # ページアップ
bind generic <C-f> move-page-down                      # ページダウン
bind generic \ !@gh repo view --web                    # ブラウザでリポジトリを表示 (gh)
bind generic ^ !@gh issue list --web                   # ブラウザでIssue一覧を表示 (gh)
bind generic - !@gh pr list --web                      # ブラウザでPR一覧を表示 (gh)
bind generic & :toggle vertical-split                  # 垂直分割の切り替え
bind generic g move-first-line                         # 最初の行へ移動
bind generic G move-last-line                          # 最後の行へ移動

bind main O !@gh browse -- %(commit)                   # メインビュー: 選択中のコミットをGitHubで開く
bind main F !?git fetch --prune                        # メインビュー: フェッチとPruneを実行

bind refs d !?git branch -d %(branch)                  # Refsビュー: ブランチ削除
bind refs B !?git switch -c "%(prompt Enter new branch name: )" "%(ref)"  # Refsビュー: 新規ブランチ作成してチェックアウト
bind refs O !@gh browse -- %(commit)                   # Refsビュー: 選択中のコミットをGitHubで開く
